<!DOCTYPE HTML>
<html>
<head>
<style>
body {
	margin: 0px;
	padding: 0px;
}
</style>
</head>
<body>
	<div id="container"></div>
	<script src="./three.min.js"></script>
	<script defer="defer">
	// renderer
	var renderer = new THREE.WebGLRenderer();
	renderer.setSize(window.innerWidth, window.innerHeight);
	document.body.appendChild(renderer.domElement);

	// camera
	var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 1000);
	camera.position.z = 200;

	// scene
	var scene = new THREE.Scene();

	// sphere
	// the first argument of THREE.SphereGeometry is the radius, the second argument is
	// the segmentsWidth, and the third argument is the segmentsHeight.  Increasing the
	// segmentsWidth and segmentsHeight will yield a more perfect circle, but will degrade
	// rendering performance


	//function genSphere(dest){
	function genSphere(dest, dx,dy,dz){
		var sphere = new THREE.Mesh(new THREE.SphereGeometry(7.5, 100, 100), new THREE.MeshNormalMaterial());
		dest.overdraw = true;
		sphere.position.set(dx,dy,dz);
		dest.add(sphere);
		return sphere
	}


		sphere0 = genSphere(scene,0,0,0);

		/*sphere1 = genSphere(scene,5,-20,0);
		sphere2 = genSphere(scene,20,5,0);
		sphere3 = genSphere(scene,-20,5,0);
		scene.remove(sphere3);*/

		//var directionx = 1;
		//var directiony = 1;
		var directionz = 1;

		var render = function () {
			requestAnimationFrame( render );

			sphere0.position.z +=directionz * 2;
			if (sphere0.position.z == 200)
			{

				randomDirectionx = Math.floor(Math.random() * 2) + 1;
				randomDirectiony = Math.floor(Math.random() * 2) + 1;

				if (randomDirectionx%2 == 0)
					randomDirectionx = -1;
				else
					randomDirectionx = 1;

				if (randomDirectiony%2 == 0)
					randomDirectiony = -1;
				else
					randomDirectiony = 1;

				//scene.remove(sphere0);
				sphere0.position.z = 0;
				sphere0.position.y = randomDirectionx*(Math.floor(Math.random() * 40) + 1);
				sphere0.position.x = randomDirectiony*(Math.floor(Math.random() * 40) + 1);
		}

			//sphere0.position.x +=directionx * 1;
			//sphere0.position.y +=directiony * 1;

			/*if (sphere0.position.x > 50 || sphere0.position.x < -50)
				directionx *= -1;
			else if(sphere0.position.y > 50 || sphere0.position.y < -50)
				directiony *= -1;*/

			renderer.render(scene, camera);
		};

	render();
	//renderer.render(scene, camera);
	</script>
</body>
</html>
